<div class="container">
  <h2>Create Doctor</h2>

  <form (ngSubmit)="createDoctor()">
    <mat-card>
      <mat-card-header>
        <mat-card-title>Doctor Details</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <mat-form-field appearance="outline">
          <mat-label>Name</mat-label>
          <input [(ngModel)]="doctor.name" name="name" matInput required />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Email</mat-label>
          <input
            [(ngModel)]="doctor.email"
            name="email"
            matInput
            type="email"
            required
          />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Contact Number</mat-label>
          <input
            [(ngModel)]="doctor.contactNumber"
            name="contactNumber"
            matInput
          />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Specialization</mat-label>
          <input
            [(ngModel)]="doctor.specialization"
            name="specialization"
            matInput
          />
        </mat-form-field>
      </mat-card-content>
    </mat-card>

    <mat-card>
      <mat-card-header>
        <mat-card-title>Assigned Patients</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div *ngIf="assignedPatients.length === 0">
          <p>No patients assigned.</p>
        </div>
        <mat-chip-listbox *ngIf="assignedPatients.length > 0">
          <mat-chip *ngFor="let patient of assignedPatients" removable>
            {{ patient.name }}
          </mat-chip>
        </mat-chip-listbox>
        <button
          mat-raised-button
          color="primary"
          type="button"
          (click)="openDialog()"
        >
          Assign Patients
        </button>
      </mat-card-content>
    </mat-card>

    <button
      mat-raised-button
      color="primary"
      type="submit"
      [disabled]="isSubmitting"
    >
      Create Doctor
    </button>
  </form>
</div>
